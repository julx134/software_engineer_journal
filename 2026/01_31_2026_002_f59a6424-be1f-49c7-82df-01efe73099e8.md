## Part 2: Software Architecture & Design Patterns

### 1. The Facade Pattern (Python Implementation)

- **Definition:** A structural pattern that provides a simplified interface to a complex subsystem.
- **Python Implementation:** The `__init__.py` file acts as the Facade.
- **Mechanism:**
  - Internal files (`_calculations.py`, `_utils.py`) contain the logic.
  - `__init__.py` imports specific classes and adds them to `__all__`.
  - External modules import _only_ from the package: `from engine_v2 import MyClass`.
- **Obfuscation Benefit:** `__init__.py` becomes the single source of truth for the RFT Exclude list. Everything listed in `__all__` is public (excluded from renaming); everything else is private (safe to scramble).

### 2. Facade vs. Interface

- **Interface (Contract):** Defines _behavior_ (e.g., `abc.ABC`). Ensures Class A and Class B both have a `run()` method.
- **Facade (Access):** Defines _entry points_. Hides the complexity of _where_ the code lives.

---

## Part 3: The "Barrel File" Epiphany (JS to Python Transfer)

### The Challenge

I faced a critical conflict:

1.  **Goal:** Obfuscate the backend engine (`engine_v2`) using **RFT** for maximum security.
2.  **Problem:** The backend was "deeply coupled" with the engine, importing internal classes directly.
3.  **Failure:** RFT scrambled internal names, causing the backend to crash.

### The Solution: "Wait, isn't this just a Barrel File?"

I realized this is a solved problem in JavaScript/TypeScript (React/Angular) using **Barrel Files** (`index.js`).

- **The Discovery:** Python's `__init__.py` serves the same role as `index.js`.
- **The Implementation:** I used `__init__.py` to explicitly define the package's "Public Interface" by importing key classes and adding them to `__all__`.
- **The Config:** I mapped the `__all__` list directly to Pyarmor's exclusion list.

---

## Part 4: Architecture Enforcement (The "Fail-Safe")

The most powerful outcome is that obfuscation turns **Architecture Conventions** into **Hard Constraints**.

1.  **The Convention:** Developers _should_ only import from the barrel file (`from engine_v2 import Pipeline`).
2.  **The Enforcement:** Because I configured RFT to **scramble everything not in `__init__.py`**, internal names literally cease to exist in the production build.
3.  **The Result:** If a developer bypasses the barrel file, their code will crash in the obfuscated build. The obfuscator acts as a strict architectural linter.
